extends layout

block content
  if (user)
    section#watermelon-container.container-fluid
      ul#slices-container.container-fluid
        each slice in user.matrix
          li.slice.container-fluid(data-index=slice.index)
            .btn.slice-title= slice.title
            .slice-option-menu
              a.btn.slice-option(href="/openslice/" + slice.index + "/additem")
                span.fa.fa-plus-circle
              a.btn.slice-option(href="/openslice/" + slice.index + "/edittitle")
                span.fa.fa-pencil
              a.btn.slice-option(href="/openslice/" + slice.index + "/deleteslice")
                span.fa.fa-trash-o
            .slice-item-list
              each item in user.matrix[slice.index - 1].items
                .item(data-index=item.index)
                  .btn.slice-item-title(style="background:" + item.color)= item.name
                  .item-option-menu
                    a.btn.item-option(href="#")
                      span.fa.fa-refresh
                    a.btn.item-option(href="#")
                      span.fa.fa-pencil
                    a.btn.item-option(href="/openslice/" + slice.index + "/item/" + item.index + "/dodeleteitem")
                      span.fa.fa-trash-o
                    .btn.item-info #{item.elapsed} / #{item.cycle}
    block content
